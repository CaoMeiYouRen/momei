# 内容呈现增强 (Content Rendering Enhancement)

## 1. 概述 (Overview)

本模块致力于改善博文的视觉呈现和写作体验。通过引入高级 Markdown 特性和自动化工具，确保内容既规范又具备极佳的可读性。

## 2. 核心功能 (Core Features)

### 2.1 Markdown 格式化 (Markdown Formatting)

-   **目标**: 解决手动编写 Markdown 时可能出现的排版不一致（如空格不当、缩进混淆、标题级联错误等）问题。
-   **技术方案**:
    -   集成 **Prettier** 及其 Markdown 插件作为核心引擎。
    -   在 `mavon-editor` 或当前使用的编辑器工具栏中集成“一键格式化”按钮。
-   **应用场景**:
    -   **编辑器手动触发**: 作者在写作过程中随时点击格式化。
    -   **保存前校验**: 文章在提交保存到数据库前，后端或前端可选进行格式化，确保库中存储的是规范化文本。
-   **格式化规则**:
    -   中英文间自动加空格 (Pangu).
    -   统一列表项前缀 (如使用 `- `).
    -   统一代码块标记 (如使用 ```).
    -   修正标题前后的空行。

### 2.2 代码块语法高亮 (Syntax Highlighting)

-   **方案**: 集成 **Shiki** (支持现代主题) 或 **highlight.js**。
-   **特性**:
    -   按需加载语言包，减少首屏体积。
    -   支持显示代码行号。
    -   支持“代码复制”一键功能。

### 2.3 图片增强 (Image Enhancement)

-   **懒加载**: 原生 `loading="lazy"` 支持。
-   **Lightbox**: 点击图片放大查看原生大图。
-   **响应式**: 根据视口自动调整图片最大宽度。

### 2.4 富媒体扩展 (Rich Media Extensions)

-   **自定义容器**: 支持 `::: tip` 等警告/提示框。
-   **代码组 (Code Groups)**: 支持切换多语言/多版本代码。
-   **GitHub 警报**: 兼容 `> [!NOTE]` 语法。

## 3. 实现计划 (Implementation Plan)

1.  **第一阶段**: 集成 Prettier 基础格式化功能至管理后台。
2.  **第二阶段**: 引入 **highlight.js** 实现全站代码高亮 (GitHub Dark 主题)，替换原有简陋样式。
3.  **第三阶段**: 优化图片加载策略，引入全站 Lightbox 组件。
