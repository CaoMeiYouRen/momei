# 墨梅博客 - 项目计划

## 1. 项目概况

**项目名称**: 墨梅(Momei)

**目标**: 构建一个专为技术开发者和跨境内容创作者量身定制的专业、高性能、国际化博客平台。

**核心价值主张**:

-   **技术栈**: Nuxt 3 + TypeScript (现代化, SSG/SSR 混合)。
-   **差异化**: 原生国际化 (i18n)、AI 辅助翻译/内容生成、桌面端应用 (Tauri)、平滑迁移支持 (路径别名)。
-   **目标受众**: 开发者、技术作者、跨境创作者。

## 2. 开发路线图

### 第一阶段：MVP (最小可行性产品)

**时间表**: 约 1.5 个月 (3 名开发人员)

**目标**: 验证核心的内容创作 - 展示 - 基础国际化闭环及迁移能力。专注于业务闭环和低风险技术落地。

#### 核心模块 (P0 - 必须实现)

1.  **内容管理 (精简版)**
    -   **编辑器**: Markdown 支持 (语法高亮、图片拖拽上传)。
    -   **生命周期**: 创建、编辑、删除、草稿 (自动保存)。
    -   **迁移支持**: **路径别名 (自定义 URL Slug)** - 对于迁移用户保留 SEO 至关重要。初期仅支持手动输入，无自动生成逻辑。
    -   **媒体**: 单张图片上传。
    -   **分类**: 基础分类管理。
2.  **用户系统 (精简版)**
    -   **认证**: GitHub OAuth (通过 `next-auth` 或类似库)。
    -   **登出功能**: 添加登出按钮，支持用户安全退出。
    -   **匿名用户支持**: 默认支持匿名用户浏览内容，无需登录。
    -   **匿名用户管理**: 定义匿名用户的权限和行为规则。
    -   **角色**: 创作者 (管理员) vs. 访客。
    -   **个人中心**: 我的文章管理。
3.  **内容展示**
    -   **页面**: 首页 (分页)、文章详情 (目录 TOC)、归档。
    -   **搜索**: 基础关键词搜索 (标题/正文)，使用本地过滤或简单数据库查询。
    -   **响应式**: 使用 SCSS Media Queries 适配 PC 和移动端，保证移动端体验；**优先实现响应式导航（汉堡菜单）**。
    -   **主题**: 支持浅色/深色模式切换及持久化。
    -   **SSR**: 确保核心页面 (首页、文章页) 服务端渲染，利于 SEO。
4.  **国际化 (基础)**
    -   **UI**: 中英文切换。
    -   **路由**: `nuxt-i18n` 前缀策略 (`/en/...`)。
    -   **内容**: 手动翻译支持 (AI 集成在后续阶段)。
5.  **安全与配置**
    -   **安全**: 基础 XSS/CSRF 防护，API 的 JWT 认证。
    -   **配置**: 网站名称、Logo、基础 SEO Meta。

### 第二阶段：优化与商业化 (Post-MVP)

**时间表**: +1 个月

**目标**: 提升体验，引入变现，并扩大差异化。

1.  **AI 集成**:
    -   AI 标题生成。
    -   AI 基础翻译 (集成 DeepL/OpenAI)。
2.  **订阅体系**:
    -   RSS 订阅源。
    -   邮件通讯 (集成 SendGrid)。
    -   基于分类的订阅。
3.  **增强分类体系**:
    -   标签管理。
    -   **标签/分类翻译**。
4.  **内容体验优化**:
    -   **字数统计与阅读时长**: 自动计算并展示。
    -   **版权声明**: 文章底部自动添加 CC 协议声明 (CC BY-NC-SA 4.0)。
    -   **高级搜索**: 集成 Algolia 实现全文检索。
5.  **商业化**:
    -   集成 Stripe/支付宝。
    -   Pro 套餐 (高级 AI 使用限制)。
6.  **SEO 增强**:
    -   **站点地图**: 自动生成 `sitemap.xml` (`@nuxtjs/sitemap`)。
    -   Google 网站管理工具验证支持
    -   Bing 网站管理工具验证支持

### 第三阶段：创新与扩展 (长期)

**时间表**: 待定

**目标**: 建立竞争壁垒并扩展生态系统。

1.  **Tauri 桌面端**: 离线写作，云端同步。
2.  **高级 AI**: 内容润色，自动摘要。
3.  **社区功能**: 评论、点赞、访客投稿。
4.  **特色功能**:
    -   **哀悼模式**: 在指定的日期全站置灰 (Grayscale)。
    -   **看板娘/粒子效果**: 可选的视觉增强 (Live2D/Particles)。
5.  **高级技术**: 代码块执行，基于 Git 的版本控制。

## 3. 技术架构与质量保证

### 技术栈

-   **前端/框架**: Nuxt 3 (Vue 3 + TypeScript)。
-   **样式**: SCSS。
-   **数据库**: PostgreSQL (MVP 推荐使用 Supabase 或类似托管服务)。
-   **认证**: NextAuth.js / NuxtAuth。
-   **部署**: Vercel / Netlify / Docker (注: 暂不支持 Cloudflare Workers，因 TypeORM/Debug 包兼容性问题)。

### 质量保证策略

1.  **测试**:
    -   **单元测试**: 使用 Vitest 测试核心逻辑 (slug 生成，数据转换)。
    -   **E2E**: 使用 Cypress/Playwright 测试关键路径 (登录 -> 发布)。
    -   **覆盖率目标**: 核心功能 > 80%。
    -   在近期计划中为归档页与移动导航补充测试并纳入 CI。
2.  **性能**:
    -   **SSG/SSR**: 尽可能预渲染静态内容。
    -   **图片优化**: 使用 `<NuxtImg>`。
    -   **监控**: CI/CD 中的 Lighthouse 审计。

### 分析和监控

-   Microsoft Clarity 集成 - 行为分析和会话回放工具集成
-   Sentry 集成 - 错误监控和性能跟踪工具集成
-   百度统计集成 - 网站流量分析和用户行为统计工具集成
-   Google Analytics 集成 - Google Analytics 4 网站分析和用户行为跟踪工具集成

## 4. 市场分析摘要

-   **竞争对手**: WordPress (重型), Hexo/VuePress (静态/无后端), Medium/Dev.to (平台锁定)。
-   **缺口**: 缺乏现代化的、自托管的、国际化优先且 AI 就绪的博客平台。
-   **策略**: 瞄准希望拥有控制权 + 现代化技术栈 + 全球影响力的开发者。

## 5. 相关文档

-   [AI 代理配置](../../AGENTS.md)
-   [待办事项](./todo.md)
-   [开发规范](../standards/development.md)
-   [UI 设计](../design/ui.md)
-   [API 设计](../design/api.md)
-   [测试规范](../standards/testing.md)
