# 文档规范 (Documentation Standards)

## 1. 概述 (Overview)

本文档定义了墨梅 (Momei) 项目的文档编写、组织与维护标准。良好的文档是项目可持续发展的基石，不仅服务于人类开发者，也为 AI 智能体提供关键的上下文信息。

## 2. 文档目录结构 (Directory Structure)

所有文档必须存放于 `docs/` 目录下，并遵循以下分类逻辑：

-   `docs/design/`: 技术架构、UI/UX 设计、API 设计及各功能模块的深度解析。
    -  `docs/design/modules/`: 各核心模块（如认证、文章管理、评论系统）的设计文档。
-   `docs/guide/`: 用户手册、快速开始、部署指南、开发入门及 AI 协同指南。
-   `docs/plan/`: 项目路线图 (`roadmap.md`)、待办事项 (`todo.md`) 及其归档。
-   `docs/standards/`: 各类专项开发规范、安全规范、测试规范及本文档。
-   `docs/en-US/`: (预留) 国际化文档存放目录。

## 3. 编写标准 (Writing Standards)

### 3.1 标题与层级 (Headings & Hierarchy)

-   **单个一级标题**: 每个文件必须且只能有一个 `#` (H1) 标题，作为页面主标题。
-   **逻辑分级**: 依次使用 `##`, `###` 进行嵌套。严禁跨级使用（如直接从 `##` 跳到 `####`）。
-   **编号一致性**:
    -   大项使用 `1.`, `2.` 数字编号。
    -   子项优先使用无序列表 `-`。
    -   如果流程具有强先后顺序，子项可使用 `1.1`, `1.2` 风格。

### 3.2 语言与风格 (Style & Tone)

-   **专业且简洁**: 使用中性、专业的技术语言。避免冗长描述，优先使用列表和表格。
-   **术语统一**: 确保在全站文档中对同一概念使用相同的专业术语（如：Slug, i18n, Nitro, Auth）。
-   **中英文混排**: 在中文文档中，英文术语与中文之间建议保留一个空格。

### 3.3 链接与引用 (Links & References)

-   **相对路径**: 引用本项目内其他文档时，必须使用相对于当前文件的相对路径。
-   **锚点链接**: 引用文档特定章节时，使用 `#` 锚点（如 `[规范](./development.md#2-代码风格)`）。
-   **外部参考**: 使用完整的 HTTPS 链接。

### 3.4 增强内容 (Enhanced Content)

-   **代码块**: 必须指明语言类型（如 ````typescript`）。
-   **图表**: 复杂逻辑、架构或时序图优先使用 **Mermaid** 语法编写，禁止使用位图截图展示架构。
-   **提示信息**: 使用 VitePress 的自定义容器语语法（::: info, ::: tip, ::: warning, ::: danger）。

## 4. 国际化 (Internationalization)

目前文档以中文为主，正在逐步推进国际化。

-   **主目录优先**: `docs/` 直接存放默认语言（中文）文档。
-   **语言分包**: 英文文档将存放在 `docs/en-US/` 目录下，并保持与根目录完全一致的代码结构和文件名。
-   **同步原则**: 修改中文文档后，应同步更新对应的英文文档。

## 5. 特殊文件维护 (Special File Maintenance)

### 5.1 根目录 README.md

`README.md` 是项目的门户，必须在以下情况发生时进行同步更新：
-   核心特性 (Features) 增删。
-   技术栈变更。
-   项目演示链接或截图更新。
-   安装/运行步骤发生重大变化。

### 5.2 项目规划文档 (Plan Docs)

-   `roadmap.md` 与 `todo.md` 的维护必须严格遵循 [项目规划规范](./planning.md)。
-   任何阶段性的功能完成，必须在 `todo.md` 中标记并在 `roadmap.md` 中体现进度。

## 6. 文档站点配置 (Site Configuration)

文档基于 VitePress 构建，配置文件位于 `docs/.vitepress/config.ts`。

-   **导航栏 (Nav)**: 更新重大目录或外部链接。
-   **侧边栏 (Sidebar)**: 新增 `.md` 文件后，必须根据其分类在对应侧边栏分组中添加链接。
-   **搜索与 SEO**: 确保新页面的标题足够清晰，以便本地搜索能够准确命中。

## 7. AI 协同准则 (AI Synergy)

AI 智能体在处理文档时应遵守以下规则：

1.  **自动同步**: 在实现功能 (Do) 后，必须检查是否有对应的设计或指南需要更新。
2.  **路径感知**: 操作文档前先确认所在目录，确保链接路径正确。
3.  **归档意识**: 定期将已标记为完成的 `todo.md` 条目移动到 `todo-archive.md`。
4.  **禁止修改 CHANGELOG**: 除非明确指令，严禁手动修改由流水线自动维护的 `CHANGELOG.md`。

## 8. 相关文档

-   [开发规范](./development.md)
-   [规划规范](./planning.md)
-   [AI 协作规范](./ai-collaboration.md)
