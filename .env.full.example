# ==========================================
# 墨梅博客 (Momei) 环境变量完整示例文件
# ==========================================

# ------------------------------------------
# 1. 基础核心配置 (Essential)
# ------------------------------------------

# 应用名称
NUXT_PUBLIC_APP_NAME=墨梅博客

# 站点 SEO 描述
NUXT_PUBLIC_SITE_DESCRIPTION=一个基于 Nuxt 4 构建的现代化 AI 驱动博客平台

# 站点 SEO 关键词 (逗号分隔)
NUXT_PUBLIC_SITE_KEYWORDS=Nuxt,Vue,Blog,AI,TypeScript

# 默认语言 (en-US, zh-CN)
NUXT_PUBLIC_DEFAULT_LANGUAGE=zh-CN

# 站点 URL（注意：公开访问的站点地址，用于 SEO 和 RSS 生成）
NUXT_PUBLIC_SITE_URL=http://localhost:3000

# Better Auth 的基础 URL（必需，用于认证回调重定向，推荐与 SITE_URL 一致）
NUXT_PUBLIC_AUTH_BASE_URL=http://localhost:3000

# 用于加密、签名和哈希的密钥。生产环境必须设置！
# 可以使用 `openssl rand -hex 32` 生成。开发环境下会自动生成随机值。
AUTH_SECRET=

# 雪花算法机器 ID (0-1023)，用于生成分布式唯一 ID。默认自动获取进程 PID 对 1024 取余
# MACHINE_ID=

# ------------------------------------------
# 2. 数据库与高性能配置 (Database & Cache)
# ------------------------------------------

# 数据库连接 URL (支持 SQLite, MySQL, PostgreSQL)
# 支持智能推断：
# - SQLite (推荐): sqlite://database/momei.sqlite (或 file://database/momei.sqlite)
# - MySQL: mysql://user:pass@host:3306/db
# - PostgreSQL: postgres://user:pass@host:5432/db
# 如果未配置，默认将使用本地 SQLite
DATABASE_URL=sqlite://database/momei.sqlite

# 手动指定数据库类型 (可选，通常由 URL 自动推断: sqlite, mysql, postgres)
# DATABASE_TYPE=sqlite

# SQLite 数据库路径 (兼容旧版，不推荐手动设置)
# DATABASE_PATH=database/momei.sqlite

# 是否自动同步数据库表结构 (生产环境建议固定为 false，仅手动控制迁移)
DATABASE_SYNCHRONIZE=false

# 数据库连接调节 (可选)
# DATABASE_SSL=false
# DATABASE_CHARSET=utf8_general_ci
# DATABASE_TIMEZONE=local
# DATABASE_ENTITY_PREFIX=momei_

# Redis 连接地址 (可选，配置后将启用基于 Redis 的缓存或限流)
# REDIS_URL=redis://localhost:6379

# ------------------------------------------
# 3. 认证与社交登录 (Authentication)
# ------------------------------------------

# 是否允许新用户注册
ALLOW_REGISTRATION=true

# 是否启用匿名登录 (无需邮箱密码即可登录)
ANONYMOUS_LOGIN_ENABLED=false

# GitHub 配置 (OAuth)
NUXT_PUBLIC_GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Google 配置 (OAuth)
NUXT_PUBLIC_GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ------------------------------------------
# 4. AI 核心引擎 (AI Integration - Text & Image)
# ------------------------------------------

# 是否启用 AI 功能
AI_ENABLED=true

# 主 AI 提供商 (openai, anthropic, deepseek, doubao, siliconflow, gemini, volcengine)
AI_PROVIDER=openai

# AI API 密钥
AI_API_KEY=

# 默认模型名称 (如 gpt-4o, claude-3-5-sonnet, deepseek-chat)
AI_MODEL=gpt-4o

# API 代理端点 (可选，用于 OpenAI 兼容服务)
AI_API_ENDPOINT=

# AI 生成参数控制 (可选，默认内置优化值)
# AI_MAX_TOKENS=2048
# AI_TEMPERATURE=0.7
# AI_MAX_CONTENT_LENGTH=50000
# AI_CHUNK_SIZE=4000
# AI 重任务超时（用于 TTS / ASR / 图片生成等耗时任务）
AI_HEAVY_TASK_TIMEOUT=5m

# Gemini 专用令牌 (如果 provider 为 gemini 且需要独立令牌鉴权)
# GEMINI_API_TOKEN=

# AI 图像生成配置
AI_IMAGE_ENABLED=false
AI_IMAGE_PROVIDER=openai
AI_IMAGE_API_KEY=
AI_IMAGE_MODEL=dall-e-3
AI_IMAGE_ENDPOINT=

# ------------------------------------------
# 5. AI 多模态音频 (ASR & TTS)
# ------------------------------------------

# ASR (语音识别) 配置
# 是否启用 ASR 功能
ASR_ENABLED=false
# ASR 提供商 (openai, siliconflow, volcengine)
ASR_PROVIDER=siliconflow
# ASR 通用配置
ASR_API_KEY=
ASR_MODEL=FunAudioLLM/SenseVoiceSmall
ASR_ENDPOINT=

# TTS (文本转语音) 配置
# 是否启用 TTS 功能
TTS_ENABLED=false
# TTS 提供商 (openai, siliconflow, volcengine)
TTS_PROVIDER=openai
# TTS 通用配置 (默认复用 AI_API_KEY)
TTS_API_KEY=
TTS_ENDPOINT=
TTS_DEFAULT_MODEL=tts-1
TTS_DEFAULT_VOICE=alloy

# --- 厂商专项凭据 (可被上述 ASR/TTS 引用) ---

# 火山引擎 (豆包语音) 统一凭据
VOLCENGINE_APP_ID=
VOLCENGINE_ACCESS_KEY=
VOLCENGINE_SECRET_KEY=

# ------------------------------------------
# 6. 邮件发送系统 (SMTP)
# ------------------------------------------

# SMTP 服务器地址
EMAIL_HOST=
# SMTP 端口
EMAIL_PORT=587
# 是否使用 SSL/TLS (默认 false 会尝试 STARTTLS)
EMAIL_SECURE=false
EMAIL_USER=
EMAIL_PASS=
# 默认邮件发送者 (格式示例: "Momei Blog" <admin@example.com>)
EMAIL_FROM=
# 是否要求邮箱验证码验证后才允许登录
EMAIL_REQUIRE_VERIFICATION=false

# 邮件限流与周期配置 (可选)
# EMAIL_DAILY_LIMIT=100
# EMAIL_SINGLE_USER_DAILY_LIMIT=5
# EMAIL_LIMIT_WINDOW=86400
# EMAIL_EXPIRES_IN=300

# 匿名邮箱域拦截配置 (可选)
# ANONYMOUS_EMAIL_DOMAIN_NAME=anonymous.com
# TEMP_EMAIL_DOMAIN_NAME=example.com

# ------------------------------------------
# 7. 对象存储系统 (Storage & Upload)
# ------------------------------------------

# 存储引擎 (local, s3, vercel-blob)
STORAGE_TYPE=local

# 路径前缀（所有上传文件均会携带此目录前缀）
BUCKET_PREFIX=momei/

# 1. 本地存储配置 (STORAGE_TYPE=local)
LOCAL_STORAGE_DIR=public/uploads
NUXT_PUBLIC_LOCAL_STORAGE_BASE_URL=/uploads

# 2. S3 兼容存储 (STORAGE_TYPE=s3, 适用于 R2, AWS S3, MinIO)
S3_ENDPOINT=
S3_BUCKET_NAME=
S3_REGION=auto
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_BASE_URL=

# 3. Vercel Blob (STORAGE_TYPE=vercel-blob)
BLOB_READ_WRITE_TOKEN=

# 4. Cloudflare R2 专用配置 (也可通过 S3 变量配置)
# CLOUDFLARE_R2_ACCOUNT_ID=
# CLOUDFLARE_R2_ACCESS_KEY=
# CLOUDFLARE_R2_SECRET_KEY=
# CLOUDFLARE_R2_BUCKET=
# CLOUDFLARE_R2_BASE_URL=

# 文件大小限制调节 (可选)
# NUXT_PUBLIC_MAX_UPLOAD_SIZE=4.5MiB
# NUXT_PUBLIC_MAX_AUDIO_UPLOAD_SIZE=100MiB
# LOCAL_STORAGE_MIN_FREE_SPACE=100MiB

# ------------------------------------------
# 8. 运维、监控与自动化 (Operations)
# ------------------------------------------

# 管理员用户 ID 列表 (逗号分隔，注册后在此提权)
ADMIN_USER_IDS=

# 定时任务鉴权令牌 (必需设置，用于安全触发 Scheduled Tasks Webhook)
TASKS_TOKEN=

# Sentry 异常监控
NUXT_PUBLIC_SENTRY_DSN=
NUXT_PUBLIC_SENTRY_ENVIRONMENT=production

# 站长流量统计 (填入对应统计 ID)
NUXT_PUBLIC_BAIDU_ANALYTICS_ID=
NUXT_PUBLIC_GOOGLE_ANALYTICS_ID=
NUXT_PUBLIC_CLARITY_PROJECT_ID=

# 站点验证标签 (可选)
# NUXT_PUBLIC_GOOGLE_SITE_VERIFICATION=
# NUXT_PUBLIC_BING_SITE_VERIFICATION=

# ------------------------------------------
# 9. 视觉特效与内容组件 (Features)
# ------------------------------------------

# 站点元数据
NUXT_PUBLIC_SITE_LOGO=
NUXT_PUBLIC_SITE_FAVICON=
NUXT_PUBLIC_SITE_OPERATOR=

# 验证码集成 (提供商: cloudflare-turnstile, google-recaptcha, hcaptcha, captchafox)
NUXT_PUBLIC_AUTH_CAPTCHA_PROVIDER=
NUXT_PUBLIC_AUTH_CAPTCHA_SITE_KEY=
AUTH_CAPTCHA_SECRET_KEY=

# 评论审核与风控
ENABLE_COMMENT_REVIEW=false
# 关键词黑名单 (英文逗号分隔)
BLACKLISTED_KEYWORDS=

# 页脚自定义注入代码
NUXT_PUBLIC_FOOTER_CODE=

# 动态视觉特效控制
NUXT_PUBLIC_LIVE2D_ENABLED=false
NUXT_PUBLIC_CANVAS_NEST_ENABLED=false
# 全局性能卫兵：是否允许移动端加载特效
NUXT_PUBLIC_EFFECTS_MOBILE_ENABLED=false

# ------------------------------------------
# 10. 合规与外部资源安全 (Compliance & Security)
# ------------------------------------------

# 中国大陆备案信息显示
NUXT_PUBLIC_SHOW_COMPLIANCE_INFO=false
NUXT_PUBLIC_ICP_LICENSE_NUMBER=
NUXT_PUBLIC_PUBLIC_SECURITY_NUMBER=

# 安全：外部资源域名白名单 (逗号分隔，防止某些代理环境下图片加载失败)
NUXT_PUBLIC_SECURITY_URL_WHITELIST=

# Hugging Face 镜像代理地址 (用于部署在大陆环境时拉取资源)
NUXT_PUBLIC_HF_PROXY=https://huggingface.co

# ------------------------------------------
# 11. 第三方平台集成 (Third-party)
# ------------------------------------------

# Memos 生活流同步
MEMOS_ENABLED=false
MEMOS_INSTANCE_URL=
MEMOS_ACCESS_TOKEN=
MEMOS_DEFAULT_VISIBILITY=PRIVATE

# ------------------------------------------
# 12. 日志、调试与 Demo 模式 (Logging & Debug)
# ------------------------------------------

# 日志输出等级 (silly, debug, http, info, warn, error)
LOG_LEVEL=info
# 是否开启文件日志记录 (默认 false，Serverless 环境必须设为 false)
LOGFILES=false
# LOG_DIR=logs

# Axiom 日志集成
# AXIOM_DATASET_NAME=
# AXIOM_API_TOKEN=

# 演示模式 (内存 DB 运行，限制写操作)
NUXT_PUBLIC_DEMO_MODE=false
# NUXT_PUBLIC_DEMO_USER_EMAIL=admin@example.com
# NUXT_PUBLIC_DEMO_PASSWORD=momei123456

# 安装锁定标志（系统首次运行后会自动生成/读取，通常不建议手动修改）
# MOMEI_INSTALLED=true
